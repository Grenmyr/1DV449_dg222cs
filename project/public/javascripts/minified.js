//eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('2 3z=3(){2 3A="3Nä3T 3S";2 37=7.u(\'.1v\');2 m=7.I(\'3f\');m.1Q(\'F\',\'3J\');2 1M=7.I(\'3f\');2 23=7.I(\'a\');2 O=7.I(\'3u\');2 2e=7.u(\'#1x\');g.3l=3(){O.k=\'4c sö38 4a 4b 40ä47, 46å45 43 sö38.\';2e.w(O)};g.1O=3(E,1O){E=E.44(\'&\');O.k=1O+\' 4d 3Wån sö48 \'+E[1]+\' : \'+E[0];2e.w(O)};g.2f=3(){49(m.4h()){m.4i(m.4k)}};g.1C=3(9){g.2f();2 O=7.I(\'3u\');O.k=9[\'3t\'][\'3w\'];2 24=1M.1j(j);2 1y=1M.1j(j);2 1g=7.I(\'p\');2 1V=7.I(\'p\');2 1P=7.I(\'p\');2 1D=23.1j(j);2 R=7.I(\'a\');1D.1Q(\'F\',\'4f\');2 1G=23.1j(j);1G.1Q(\'F\',\'X\');2 1Z=1M.1j(j);1Z.1Q(\'F\',\'K\');2 1e=6.2j();2K(1D,9[\'3m\']);2N(1G,9[\'X\'],1e);4(9[\'1N\'][\'1g\']===Q){1g.k=3A}o{1g.k=9[\'1N\'][\'1g\'];1V.k=9[\'1N\'][\'1V\'];1P.k=9[\'1N\'][\'1P\']}4(9[\'22\'][0][\'R\']!==Q){R.4e="3D:"+9[\'22\'][0][\'R\'];R.3E="1X";R.k="3F: "+9[\'22\'][0][\'R\']}1y.w(1g);1y.w(1P);1y.w(1V);m.w(O);4(6.q){m.w(1D);m.w(1G);m.w(1Z)}m.w(R);m.w(1y);24.w(m);37.w(24)};3 2N(D,1h,1e){4(1h!==Q){4(1e==="29"){D.k="Ö2r "+D.25(\'F\')}o{D.k="2B 2G för 3B "+D.25(\'F\')}D.T(\'N\',3(){1e=6.2j();4(1e==="29"){6.2w(1h,\'1X\')}})}o{D.1B()}}3 2K(D,1h){D.k="Ö2r "+D.25(\'F\');D.T(\'N\',3(){6.2w(1h,\'1X\')})}};2 1H=3(){2 J=7.u(\'#J\');2 1Y=j;g.35=3(b){J.T(\'N\',3(){4(1Y){b(j)}1Y=U})}};1H.19.2l=3(b){2 27=7.u(\'#42\');2 1W=7.u(\'#41\');2 2T=7.u(\'#3X\');2T.T(\'N\',3(){b({18:27.2P.2Q,2u:1W.2V.2U()})});1W.T(\'3Y\',3(e){2 2J=e.3Z||e.4j;4(2J==13){b({18:27.2P.2Q,2u:1W.2V.2U()})}})};1H.19.3q=["3V","4lä3R"];3 2k(G){2 2n=7.u(\'#3I\');4(G.K===\'29\'){2n.8.c="12";2R()}o 4(G.K===\'3G\'){7.M(\'K\').2H=\'3C 3H \'+\'3U g 3Q.\'}o{2n.8.c="y";7.M(\'K\').2H=\'2B 2G \'+\'2M 3P för 3O 3Kä3L 2O 2L.\'}}2 3M=3(){1p.2h(3(G){2k(G)})};2 K;6.2j=3(){1p.2h(3(G){K=G.K});2g K};6.4g=3(){1p.20({4C:\'5h\',5g:j,5f:j,5i:\'5j.1\'});1p.2h(3(G){2k(G)})};(3(d,s,F){2 1d,2a=d.5m(s)[0];4(d.M(F))2g;1d=d.I(s);1d.F=F;1d.5l="//3v.X.5k/5e/5d.1d";2a.56.55(1d,2a)}(7,\'54\',\'X-57\'));3 2R(){1p.5o(\'/59\',3(G){7.M(\'K\').k=\'Vä5c \'+G.5b+\' 5a 5n X 5t 5z 5Aå5x\'+\' 2M 2O 2L!\';2 m=7.M(\'X\');4(m!==Q){m.k="Ö2r X"}})}2 3p=3(){2 2s=5w;g.31=3(b){4(5r(5q)!=="5p"){b(j)}o{b(U)}};g.2p=3(1E,b){2 1K=A 2S().2I();2 10=2t.5v(1S.2p(1E));4(10[\'2z\']>1K-2s){b(10)}o{b(U)}};g.1T=3(1E,14){2 1i=2t.2F(14);1S.1T(1E,1i)};g.3c=3(2q){2 1i;2 2C="&"+2q[0].18;2 1K=A 2S().2I();2q.1u(3(14){4(14.2z>1K-2s){1i=2t.2F(14);1S.1T(14.5u+2C,1i)}})}};2 H=3(){2 x=[];2 W;2 1n="../2D/5s.2E";2 1l="../2D/5C.2E";2 h=0;2 L=7.M(\'L\');2 P=7.M(\'P\');2 26={5B:{5y:58,52:15},4B:5,4A:j};g.3o=3(2W){W=2W;h=0;P.8.c="S-y";L.8.c="S-y"};g.3a=3(){3 2x(){H.1k=A 1c.17.H(7.M(\'3r\'),26);4z=j}g.8();1c.17.3s.4m(6,\'4y\',2x())};g.2Z=3(){H.19.1U.8.c="y";L.8.c="2y";P.8.c="2y"};g.2Y=3(b){L.T(\'N\',3(e){e.2A();4(h>0){4(6.q||6.B){x[h].Z(1n)}h+=-1;4(6.q||6.B){x[h].Z(1l);4(h===0){L.8.c="12"}o{L.8.c="S-y";P.8.c="S-y"}}b(W[\'t\'][h])}});P.T(\'N\',3(e){e.2A();4(h<W[\'t\'].1t-1){4(6.q||6.B){x[h].Z(1n)}h+=1;4(6.q||6.B){x[h].Z(1l);4(h===W[\'t\'].1t-1){P.8.c="12";L.8.c="S-y"}o{P.8.c="S-y";L.8.c="S-y"}}b(W[\'t\'][h])}})};H.19.1F=3(9){2 1L=A 1c.17.3x(9[\'1o\'][\'1q\'][0][\'1J\'],9[\'1o\'][\'1q\'][0][\'1r\']);H.1k.53(1L);H.1k.4D(11);x[h].Z(1l)};g.3k=3(){x.1u(3(1f){1f.4G(Q)});x=[];h=0;W[\'t\'].1u(3(9){3y(9,1n,3(b){x.3n(b)})})};3 3y(9,21,b){2 1J=9[\'1o\'][\'1q\'][0][\'1J\'];2 1r=9[\'1o\'][\'1q\'][0][\'1r\'];2 1L=A 1c.17.3x(1J,1r);2 1f=A 1c.17.4F({4E:1L,3r:H.1k,4x:9[\'3t\'][\'3w\'],21:21});b(1f)}g.3j=3(b){x.1u(3(1f,i){1c.17.3s.4w(1f,\'N\',3(){x[h].Z(1n);x[i].Z(1l);h=i;b(h)})})};g.8=3(){26.4q=[{"2X":[{"4p":"#4o"},{"4n":j},{"4r":-4s},{"4v":33},{"4u":0.5}]},{"4t":"4H","4I":"4W","2X":[{"4V":"#4U"}]}]}};H.19.1k=Q;H.19.1U=7.M(\'4X\');6.q=U;6.B=U;2 2i=3(){2 1b;1b=4Y.3v(\'51.50.30.34\');2 2d=j;2 E;2 v;2 1R=A 1H();2 z=A H();2 Y=A 3z();2 1z=A 3p();2 1m=0;2 1I=0;2 2v=7.u(\'#4Z\');2 36=7.u(\'#1A\');2 J=7.u(\'#J\');2 1s=7.u(\'#4T\');4S(3(){1m++;1a(\'1m\',1m);4(1m>1I+1){2v.k="4M lä39";J.8.c="12";6.q=U}o{2v.k="4L lä39";J.8.c="S-y";6.q=j;4(!6.B){z.3a();6.B=j}}},4K);1b.2c(\'1I\',3(3b){1I=3b});1R.2l(3(C){C.18=1R.3q[C.18];E=C.2u+\'&\'+C.18;4(2d===j){36.1B();z.2Z();z.2Y(3(2o){z.1U.1B();4(6.q||6.B){z.1F(2o)}Y.1C(2o)});2d=U}1z.31(3(32){4(32){4(1S[E]){1z.2p(E,3(10){4(10){v=10;1s.8.c="12";2b()}o{4(!6.q){1s.8.c="y"}1a(\'C\',C)}})}o{4(!6.q){1s.8.c="y"}1a(\'C\',C)}}o{1a(\'C\',C)}})});1R.35(3(b){4(b){1a(\'J\',j);1b.2c(\'J\',3(3d){1z.3c(3d);J.k="4J 4N 4O"})}});1b.2c(\'1x\',3(1x){1s.8.c="12";4(1x[\'t\'].1t>0){v=1x;1z.1T(E,v);2b()}o{Y.3l()}});3 2b(){2 28=[];v[\'t\'].1u(3(9){4(9[\'3m\']!==Q&&9[\'1o\'][\'1q\'][0][\'1r\']!==Q){28.3n((9))}});v[\'t\']=28;z.3o(v);4(6.q||6.B){z.3k()}Y.1O(E,v[\'t\'].1t);4(v[\'t\'].1t===0){Y.2f();2g}z.3j(3(2m){z.1U.1B();4(6.q||6.B){z.1F(v[\'t\'][2m])}Y.1C(v[\'t\'][2m])});4(6.q||6.B){z.1F(v[\'t\'][0])}Y.1C(v[\'t\'][0])}3 1a(3e,3g){1b.4R(3e,3g)}};2 16={1w:{1A:7.u(\'#1A\'),1v:7.u(\'.1v\')}};3 20(){16.1w.1v.8.3h="3i";A 2i(16.4Q)}3 2l(){16.1w.1A.T(\'N\',3(e){16.1w.1v.8.3h="3i";16.1w.1A.1B();A 2i()})}6.4P=20();',62,349,'||var|function|if||window|document|style|company||callback|display||||this|arrayIndex||true|textContent||companyViewDiv||else||onlineStatus|||adverts|querySelector|_search|appendChild|markers|block|_map|new|loadedMapOnce|eniroSearch|node|lastSearch|id|response|Map|createElement|offlineData|status|leftArrow|getElementById|click|header|rightArrow|null|phoneNumber|inline|addEventListener|false||_companies|facebook|_companyView|setIcon|searchResult||none||object||settings|maps|search_word|prototype|socketEmit|_socketSetting|google|js|loginCheck|marker|streetName|externalLink|stringifyObject|cloneNode|mapReference|greenIcon|ping|redIcon|location|FB|coordinates|longitude|waitHeader|length|forEach|content|html|companySearch|addressDiv|_localStorage|start|remove|renderBasicView|homepageLink|searchParameter|focusOnSelectedCompany|facebookLink|Eniro|pong|latitude|time|markerPosition|cloneDiv|address|results|postCode|setAttribute|_eniro|localStorage|setItem|userNavigationGuide|postArea|input|_blank|onlyOnce|facebookLogin|init|icon|phoneNumbers|cloneA|basicDiv|getAttribute|mapOptions|select|validCompanies|connected|fjs|prepareData|on|firstLoad|divToModify|clearCompanyViewDiv|return|getLoginStatus|Mashup|checkLoginState2|statusChangeCallback|waitForUserClick|index|loginButton|navigationResponse|getItem|cities|ppna|oneWeek|JSON|geo_area|connectionHeader|open|loaded|flex|timestamp|preventDefault|Logga|searchWord|images|png|stringify|in|innerHTML|getTime|key|homepageOpen|funktionalitet|till|facebookOpen|all|options|selectedIndex|OathMessage|Date|button|toLocaleLowerCase|value|companies|stylers|waitForUserArrowPress|setupNavigation||localStorageComparability|browserSupport|||offlineDataRequest|welcomeHeader|contentDiv|kning|ge|initializeMap|resp|setManyItems|data|emitName|div|search|visibility|visible|markersEventListener|addMarkers|noResults|homepage|push|setCompanies|Localstorage|searchParameters|map|event|companyInfo|h2|connect|companyName|LatLng|createMarker|CompanyView|unknownAddress|se|Please|tel|target|TLF|not_authorized|log|fbButton|basicView|anv|nda|checkLoginState|ok|kunna|Facebook|app|dfirma|adress|nd|into|flyttfirma|fr|searchButton|keypress|which|tr|inputfield|companySelect|senaste|split|ller|beh|ffar|kningen|while|gav|inga|Din|resultat|href|hemsida|fbAsyncInit|hasChildNodes|removeChild|keyCode|lastChild|st|addDomListener|invert_lightness|ff1a00|hue|styles|saturation|100|featureType|gamma|lightness|addListener|title|load|mapLoaded|disableDefaultUI|zoom|appId|setZoom|position|Marker|setMap|water|elementType|Data|3000|Online|Offline|Sparat|Lokalt|onload|socket|emit|setInterval|wait|2D333C|color|geometry|userNavGuide|io|connection|166|188|lng|setCenter|script|insertBefore|parentNode|jssdk||me|inloggad|name|lkommen|sdk|en_US|xfbml|cookie|1529045937346117|version|v2|net|src|getElementsByTagName|via|api|undefined|Storage|typeof|red|du|city|parse|604800000|ng|lat|har|tillg|center|green'.split('|'),0,{}))
//var CompanyView=function(){var unknownAddress="okänd adress";var contentDiv=document.querySelector('.content');var companyViewDiv=document.createElement('div');companyViewDiv.setAttribute('id','basicView');var cloneDiv=document.createElement('div');var cloneA=document.createElement('a');var header=document.createElement('h2');var divToModify=document.querySelector('#companySearch');this.noResults=function(){header.textContent='Din sökning gav inga träffar, behåller senaste sökning.';divToModify.appendChild(header)};this.results=function(lastSearch,results){lastSearch=lastSearch.split('&');header.textContent=results+' resultat från sökningen '+lastSearch[1]+' : '+lastSearch[0];divToModify.appendChild(header)};this.clearCompanyViewDiv=function(){while(companyViewDiv.hasChildNodes()){companyViewDiv.removeChild(companyViewDiv.lastChild)}};this.renderBasicView=function(company){this.clearCompanyViewDiv();var header=document.createElement('h2');header.textContent=company['companyInfo']['companyName'];var basicDiv=cloneDiv.cloneNode(true);var addressDiv=cloneDiv.cloneNode(true);var streetName=document.createElement('p');var postArea=document.createElement('p');var postCode=document.createElement('p');var homepageLink=cloneA.cloneNode(true);var phoneNumber=document.createElement('a');homepageLink.setAttribute('id','hemsida');var facebookLink=cloneA.cloneNode(true);facebookLink.setAttribute('id','facebook');var facebookLogin=cloneDiv.cloneNode(true);facebookLogin.setAttribute('id','status');var loginCheck=window.checkLoginState2();homepageOpen(homepageLink,company['homepage']);facebookOpen(facebookLink,company['facebook'],loginCheck);if(company['address']['streetName']===null){streetName.textContent=unknownAddress}else{streetName.textContent=company['address']['streetName'];postArea.textContent=company['address']['postArea'];postCode.textContent=company['address']['postCode']}if(company['phoneNumbers'][0]['phoneNumber']!==null){phoneNumber.href="tel:"+company['phoneNumbers'][0]['phoneNumber'];phoneNumber.target="_blank";phoneNumber.textContent="TLF: "+company['phoneNumbers'][0]['phoneNumber']}addressDiv.appendChild(streetName);addressDiv.appendChild(postCode);addressDiv.appendChild(postArea);companyViewDiv.appendChild(header);if(window.onlineStatus){companyViewDiv.appendChild(homepageLink);companyViewDiv.appendChild(facebookLink);companyViewDiv.appendChild(facebookLogin)}companyViewDiv.appendChild(phoneNumber);companyViewDiv.appendChild(addressDiv);basicDiv.appendChild(companyViewDiv);contentDiv.appendChild(basicDiv)};function facebookOpen(node,externalLink,loginCheck){if(externalLink!==null){if(loginCheck==="connected"){node.textContent="Öppna "+node.getAttribute('id')}else{node.textContent="Logga in för se "+node.getAttribute('id')}node.addEventListener('click',function(){loginCheck=window.checkLoginState2();if(loginCheck==="connected"){window.open(externalLink,'_blank')}})}else{companyViewDiv.appendChild(node);node.parentNode.removeChild(node)}}function homepageOpen(node,externalLink){node.textContent="Öppna "+node.getAttribute('id');node.addEventListener('click',function(){window.open(externalLink,'_blank')})}};var Eniro=function(){var offlineData=document.querySelector('#offlineData');var onlyOnce=true;this.offlineDataRequest=function(callback){offlineData.addEventListener('click',function(){if(onlyOnce){callback(true)}onlyOnce=false})}};Eniro.prototype.waitForUserClick=function(callback){var select=document.querySelector('#companySelect');var input=document.querySelector('#inputfield');var button=document.querySelector('#searchButton');button.addEventListener('click',function(){callback({search_word:select.options.selectedIndex,geo_area:input.value.toLocaleLowerCase()})});input.addEventListener('keypress',function(e){var key=e.which||e.keyCode;if(key==13){callback({search_word:select.options.selectedIndex,geo_area:input.value.toLocaleLowerCase()})}})};Eniro.prototype.searchParameters=["flyttfirma","städfirma"];function statusChangeCallback(response){var loginButton=document.querySelector('#fbButton');if(response.status==='connected'){loginButton.style.display="none";OathMessage()}else if(response.status==='not_authorized'){document.getElementById('status').innerHTML='Please log '+'into this app.'}else{loginButton.style.display="block";document.getElementById('status').innerHTML='Logga in '+'till Facebook för kunna använda all funktionalitet.'}}var checkLoginState=function(){FB.getLoginStatus(function(response){statusChangeCallback(response)})};var status;window.checkLoginState2=function(){FB.getLoginStatus(function(response){status=response.status});return status};window.fbAsyncInit=function(){FB.init({appId:'1529045937346117',cookie:true,xfbml:true,version:'v2.1'});FB.getLoginStatus(function(response){statusChangeCallback(response)})};(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id))return;js=d.createElement(s);js.id=id;js.src="//connect.facebook.net/en_US/sdk.js";fjs.parentNode.insertBefore(js,fjs)}(document,'script','facebook-jssdk'));function OathMessage(){FB.api('/me',function(response){document.getElementById('status').textContent='Välkommen '+response.name+' inloggad via facebook du har tillgång'+' till all funktionalitet!';var companyViewDiv=document.getElementById('facebook');if(companyViewDiv!==null){companyViewDiv.textContent="Öppna facebook"}})}var Localstorage=function(){var oneWeek=604800000;this.localStorageComparability=function(callback){if(typeof(Storage)!=="undefined"){callback(true)}else{callback(false)}};this.getItem=function(searchParameter,callback){var time=new Date().getTime();var searchResult=JSON.parse(localStorage.getItem(searchParameter));if(searchResult['timestamp']>time-oneWeek){callback(searchResult)}else{callback(false)}};this.setItem=function(searchParameter,object){var stringifyObject=JSON.stringify(object);localStorage.setItem(searchParameter,stringifyObject)};this.setManyItems=function(cities){var stringifyObject;var searchWord="&"+cities[0].search_word;var time=new Date().getTime();cities.forEach(function(object){if(object.timestamp>time-oneWeek){stringifyObject=JSON.stringify(object);localStorage.setItem(object.city+searchWord,stringifyObject)}})}};var Map=function(){var markers=[];var _companies;var redIcon="../images/red.png";var greenIcon="../images/green.png";var arrayIndex=0;var leftArrow=document.getElementById('leftArrow');var rightArrow=document.getElementById('rightArrow');var mapOptions={center:{lat:58,lng:15},zoom:5,disableDefaultUI:true};this.setCompanies=function(companies){_companies=companies;arrayIndex=0;rightArrow.style.display="inline-block";leftArrow.style.display="inline-block"};this.initializeMap=function(){function loaded(){Map.mapReference=new google.maps.Map(document.getElementById('map'),mapOptions);mapLoaded=true}this.style();google.maps.event.addDomListener(window,'load',loaded())};this.setupNavigation=function(){Map.prototype.userNavigationGuide.style.display="block";leftArrow.style.display="flex";rightArrow.style.display="flex"};this.waitForUserArrowPress=function(callback){leftArrow.addEventListener('click',function(e){e.preventDefault();if(arrayIndex>0){if(window.onlineStatus||window.loadedMapOnce){markers[arrayIndex].setIcon(redIcon)}arrayIndex+=-1;if(window.onlineStatus||window.loadedMapOnce){markers[arrayIndex].setIcon(greenIcon);if(arrayIndex===0){leftArrow.style.display="none"}else{leftArrow.style.display="inline-block";rightArrow.style.display="inline-block"}}callback(_companies['adverts'][arrayIndex])}});rightArrow.addEventListener('click',function(e){e.preventDefault();if(arrayIndex<_companies['adverts'].length-1){if(window.onlineStatus||window.loadedMapOnce){markers[arrayIndex].setIcon(redIcon)}arrayIndex+=1;if(window.onlineStatus||window.loadedMapOnce){markers[arrayIndex].setIcon(greenIcon);if(arrayIndex===_companies['adverts'].length-1){rightArrow.style.display="none";leftArrow.style.display="inline-block"}else{rightArrow.style.display="inline-block";leftArrow.style.display="inline-block"}}callback(_companies['adverts'][arrayIndex])}})};Map.prototype.focusOnSelectedCompany=function(company){var markerPosition=new google.maps.LatLng(company['location']['coordinates'][0]['latitude'],company['location']['coordinates'][0]['longitude']);Map.mapReference.setCenter(markerPosition);Map.mapReference.setZoom(11);markers[arrayIndex].setIcon(greenIcon)};this.addMarkers=function(){markers.forEach(function(marker){marker.setMap(null)});markers=[];arrayIndex=0;_companies['adverts'].forEach(function(company){createMarker(company,redIcon,function(callback){markers.push(callback)})})};function createMarker(company,icon,callback){var latitude=company['location']['coordinates'][0]['latitude'];var longitude=company['location']['coordinates'][0]['longitude'];var markerPosition=new google.maps.LatLng(latitude,longitude);var marker=new google.maps.Marker({position:markerPosition,map:Map.mapReference,title:company['companyInfo']['companyName'],icon:icon});callback(marker)}this.markersEventListener=function(callback){markers.forEach(function(marker,i){google.maps.event.addListener(marker,'click',function(){markers[arrayIndex].setIcon(redIcon);markers[i].setIcon(greenIcon);arrayIndex=i;callback(arrayIndex)})})};this.style=function(){mapOptions.styles=[{"stylers":[{"hue":"#ff1a00"},{"invert_lightness":true},{"saturation":-100},{"lightness":33},{"gamma":0.5}]},{"featureType":"water","elementType":"geometry","stylers":[{"color":"#2D333C"}]}]}};Map.prototype.mapReference=null;Map.prototype.userNavigationGuide=document.getElementById('userNavGuide');window.onlineStatus=false;window.loadedMapOnce=false;var Mashup=function(){var _socketSetting;_socketSetting=io.connect('188.166.30.34');var firstLoad=true;var lastSearch;var _search;var _eniro=new Eniro();var _map=new Map();var _companyView=new CompanyView();var _localStorage=new Localstorage();var ping=0;var pong=0;var connectionHeader=document.querySelector('#connection');var welcomeHeader=document.querySelector('#start');var offlineData=document.querySelector('#offlineData');var waitHeader=document.querySelector('#wait');setInterval(function(){ping++;socketEmit('ping',ping);if(ping>pong+1){connectionHeader.textContent="Offline läge";offlineData.style.display="none";window.onlineStatus=false}else{connectionHeader.textContent="Online läge";offlineData.style.display="inline-block";window.onlineStatus=true;if(!window.loadedMapOnce){_map.initializeMap();window.loadedMapOnce=true}}},3000);_socketSetting.on('pong',function(resp){pong=resp});_eniro.waitForUserClick(function(eniroSearch){eniroSearch.search_word=_eniro.searchParameters[eniroSearch.search_word];lastSearch=eniroSearch.geo_area+'&'+eniroSearch.search_word;if(firstLoad===true){welcomeHeader.parentNode.removeChild(welcomeHeader);_map.setupNavigation();_map.waitForUserArrowPress(function(navigationResponse){if(_map.userNavigationGuide.parentNode!==null){_map.userNavigationGuide.parentNode.removeChild(_map.userNavigationGuide)}if(window.onlineStatus||window.loadedMapOnce){_map.focusOnSelectedCompany(navigationResponse)}_companyView.renderBasicView(navigationResponse)});firstLoad=false}_localStorage.localStorageComparability(function(browserSupport){if(browserSupport){if(localStorage[lastSearch]){_localStorage.getItem(lastSearch,function(searchResult){if(searchResult){_search=searchResult;waitHeader.style.display="none";prepareData()}else{if(!window.onlineStatus){waitHeader.style.display="block"}socketEmit('eniroSearch',eniroSearch)}})}else{if(!window.onlineStatus){waitHeader.style.display="block"}socketEmit('eniroSearch',eniroSearch)}}else{socketEmit('eniroSearch',eniroSearch)}})});_eniro.offlineDataRequest(function(callback){if(callback){socketEmit('offlineData',true);_socketSetting.on('offlineData',function(data){_localStorage.setManyItems(data);offlineData.textContent="Data Sparat Lokalt"})}});_socketSetting.on('companySearch',function(companySearch){waitHeader.style.display="none";if(companySearch['adverts'].length>0){_search=companySearch;_localStorage.setItem(lastSearch,_search);prepareData()}else{_companyView.noResults()}});function prepareData(){var validCompanies=[];_search['adverts'].forEach(function(company){if(company['homepage']!==null&&company['location']['coordinates'][0]['longitude']!==null){validCompanies.push((company))}});_search['adverts']=validCompanies;_map.setCompanies(_search);if(window.onlineStatus||window.loadedMapOnce){_map.addMarkers()}_companyView.results(lastSearch,_search['adverts'].length);if(_search['adverts'].length===0){_companyView.clearCompanyViewDiv();return}_map.markersEventListener(function(index){if(_map.userNavigationGuide.parentNode!==null){_map.userNavigationGuide.parentNode.removeChild(_map.userNavigationGuide)}if(window.onlineStatus||window.loadedMapOnce){_map.focusOnSelectedCompany(_search['adverts'][index])}_companyView.renderBasicView(_search['adverts'][index])});if(window.onlineStatus||window.loadedMapOnce){_map.focusOnSelectedCompany(_search['adverts'][0])}_companyView.renderBasicView(_search['adverts'][0])}function socketEmit(emitName,search){_socketSetting.emit(emitName,search)}};var settings={html:{start:document.querySelector('#start'),content:document.querySelector('.content')}};function init(){settings.html.content.style.visibility="visible";new Mashup(settings.socket)}function waitForUserClick(){settings.html.start.addEventListener('click',function(e){settings.html.content.style.visibility="visible";settings.html.start.remove();new Mashup()})}window.onload=init();
eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('2 3f=3(){2 2V="4hä4g 4f";2 2z=7.y(\'.1u\');2 k=7.L(\'2B\');k.1G(\'H\',\'4i\');2 1H=7.L(\'2B\');2 29=7.L(\'a\');2 Q=7.L(\'2U\');2 20=7.y(\'#1n\');g.3s=3(){Q.o=\'4l sö2J 4k 4e 4dä48, 47å46 49 sö2J.\';20.q(Q)};g.1U=3(G,1U){G=G.4c(\'&\');Q.o=1U+\' 4b 4mån sö4n \'+G[1]+\' : \'+G[0];20.q(Q)};g.2k=3(){4x(k.4z()){k.1j(k.4A)}};g.1W=3(9){g.2k();2 Q=7.L(\'2U\');Q.o=9[\'3A\'][\'3z\'];2 2q=1H.1t(j);2 1D=1H.1t(j);2 1h=7.L(\'p\');2 1N=7.L(\'p\');2 1S=7.L(\'p\');2 1T=29.1t(j);2 P=7.L(\'a\');1T.1G(\'H\',\'4B\');2 1Q=29.1t(j);1Q.1G(\'H\',\'X\');2 2m=1H.1t(j);2m.1G(\'H\',\'J\');2 1e=6.2g();32(1T,9[\'3t\']);2K(1Q,9[\'X\'],1e);4(9[\'1R\'][\'1h\']===K){1h.o=2V}v{1h.o=9[\'1R\'][\'1h\'];1N.o=9[\'1R\'][\'1N\'];1S.o=9[\'1R\'][\'1S\']}4(9[\'2h\'][0][\'P\']!==K){P.4o="4r:"+9[\'2h\'][0][\'P\'];P.4s="2j";P.o="4u: "+9[\'2h\'][0][\'P\']}1D.q(1h);1D.q(1S);1D.q(1N);k.q(Q);4(6.t){k.q(1T);k.q(1Q);k.q(2m)}k.q(P);k.q(1D);2q.q(k);2z.q(2q)};3 2K(w,1o,1e){4(1o!==K){4(1e==="2w"){w.o="Ö2b "+w.2u(\'H\')}v{w.o="2H 2A för 3G "+w.2u(\'H\')}w.T(\'U\',3(){1e=6.2g();4(1e==="2w"){6.2Q(1o,\'2j\')}})}v{k.q(w);w.Z.1j(w)}}3 32(w,1o){w.o="Ö2b "+w.2u(\'H\');w.T(\'U\',3(){6.2Q(1o,\'2j\')})}};2 1X=3(){2 I=7.y(\'#I\');2 2i=j;g.3i=3(b){I.T(\'U\',3(){4(2i){b(j)}2i=12})}};1X.19.28=3(b){2 2x=7.y(\'#3P\');2 1I=7.y(\'#3Z\');2 2X=7.y(\'#3Y\');2X.T(\'U\',3(){b({18:2x.31.2W,2d:1I.2M.2C()})});1I.T(\'41\',3(e){2 2S=e.43||e.42;4(2S==13){b({18:2x.31.2W,2d:1I.2M.2C()})}})};1X.19.38=["4E","3Vä3U"];3 1Z(F){2 2c=7.y(\'#4D\');4(F.J===\'2w\'){2c.8.c="17";2Y()}v 4(F.J===\'5k\'){7.N(\'J\').2E=\'5j 5l \'+\'5m g 5n.\'}v{2c.8.c="A";7.N(\'J\').2E=\'2H 2A \'+\'2P 5e för 5p 5oä5A 2N 2R.\'}}2 5z=3(){1p.25(3(F){1Z(F)})};2 J;6.2g=3(){1p.25(3(F){J=F.J});2e J};6.5C=3(){1p.24({5x:\'5w\',5r:j,5q:j,5s:\'5t.1\'});1p.25(3(F){1Z(F)})};(3(d,s,H){2 14,1Y=d.5a(s)[0];4(d.N(H))2e;14=d.L(s);14.H=H;14.4P="//3w.X.4Q/4S/4M.14";1Y.Z.4G(14,1Y)}(7,\'4K\',\'X-4J\'));3 2Y(){1p.53(\'/55\',3(F){7.N(\'J\').o=\'Vä4W \'+F.4X+\' 4Y 50 X 4Z 51 52å57\'+\' 2P 2N 2R!\';2 k=7.N(\'X\');4(k!==K){k.o="Ö2b X"}})}2 3g=3(){2 22=4N;g.3a=3(b){4(59(5B)!=="5f"){b(j)}v{b(12)}};g.2s=3(1F,b){2 1K=B 2T().2O();2 1b=23.5g(1V.2s(1F));4(1b[\'2Z\']>1K-22){b(1b)}v{b(12)}};g.1E=3(1F,1a){2 1z=23.2D(1a);1V.1E(1F,1z)};g.3j=3(26){2 1z;2 2y="&"+26[0].18;2 1K=B 2T().2O();26.1x(3(1a){4(1a.2Z>1K-22){1z=23.2D(1a);1V.1E(1a.3F+2y,1z)}})}};2 E=3(){2 z=[];2 W;2 1l="../2F/3C.2I";2 1s="../2F/3O.2I";2 h=0;2 M=7.N(\'M\');2 O=7.N(\'O\');2 27={3N:{3L:58,44:15},45:5,4t:j};g.3q=3(2G){W=2G;h=0;O.8.c="R-A";M.8.c="R-A"};g.3d=3(){3 36(){E.1q=B 1d.16.E(7.N(\'3B\'),27);4q=j}g.8();1d.16.3v.4v(6,\'4C\',36())};g.37=3(){E.19.S.8.c="A";M.8.c="2L";O.8.c="2L"};g.39=3(b){M.T(\'U\',3(e){e.35();4(h>0){4(6.t||6.D){z[h].10(1l)}h+=-1;4(6.t||6.D){z[h].10(1s);4(h===0){M.8.c="17"}v{M.8.c="R-A";O.8.c="R-A"}}b(W[\'u\'][h])}});O.T(\'U\',3(e){e.35();4(h<W[\'u\'].1y-1){4(6.t||6.D){z[h].10(1l)}h+=1;4(6.t||6.D){z[h].10(1s);4(h===W[\'u\'].1y-1){O.8.c="17";M.8.c="R-A"}v{O.8.c="R-A";M.8.c="R-A"}}b(W[\'u\'][h])}})};E.19.1P=3(9){2 1L=B 1d.16.3x(9[\'1B\'][\'1C\'][0][\'1O\'],9[\'1B\'][\'1C\'][0][\'1A\']);E.1q.5c(1L);E.1q.4y(11);z[h].10(1s)};g.3p=3(){z.1x(3(1c){1c.3H(K)});z=[];h=0;W[\'u\'].1x(3(9){3y(9,1l,3(b){z.3u(b)})})};3 3y(9,21,b){2 1O=9[\'1B\'][\'1C\'][0][\'1O\'];2 1A=9[\'1B\'][\'1C\'][0][\'1A\'];2 1L=B 1d.16.3x(1O,1A);2 1c=B 1d.16.3E({3M:1L,3B:E.1q,3S:9[\'3A\'][\'3z\'],21:21});b(1c)}g.3l=3(b){z.1x(3(1c,i){1d.16.3v.3T(1c,\'U\',3(){z[h].10(1l);z[i].10(1s);h=i;b(h)})})};g.8=3(){27.5b=[{"3e":[{"5d":"#4R"},{"4L":j},{"4H":-4U},{"56":33},{"4V":0.5}]},{"54":"4T","4I":"4F","3e":[{"4O":"#5u"}]}]}};E.19.1q=K;E.19.S=7.N(\'5v\');6.t=12;6.D=12;2 2a=3(){2 1f;1f=5y.3w(\'5h.5i.30.34\');2 2r=j;2 G;2 x;2 1M=B 1X();2 m=B E();2 Y=B 3f();2 1r=B 3g();2 1v=0;2 1J=0;2 2t=7.y(\'#3Q\');2 2f=7.y(\'#1m\');2 I=7.y(\'#I\');2 1w=7.y(\'#3R\');3W(3(){1v++;1g(\'1v\',1v);4(1v>1J+1){2t.o="3X lä3h";I.8.c="17";6.t=12}v{2t.o="40 lä3h";I.8.c="R-A";6.t=j;4(!6.D){m.3d();6.D=j}}},3D);1f.2n(\'1J\',3(3c){1J=3c});1M.28(3(C){C.18=1M.38[C.18];G=C.2d+\'&\'+C.18;4(2r===j){2f.Z.1j(2f);m.37();m.39(3(2l){4(m.S.Z!==K){m.S.Z.1j(m.S)}4(6.t||6.D){m.1P(2l)}Y.1W(2l)});2r=12}1r.3a(3(3b){4(3b){4(1V[G]){1r.2s(G,3(1b){4(1b){x=1b;1w.8.c="17";2o()}v{4(!6.t){1w.8.c="A"}1g(\'C\',C)}})}v{4(!6.t){1w.8.c="A"}1g(\'C\',C)}}v{1g(\'C\',C)}})});1M.3i(3(b){4(b){1g(\'I\',j);1f.2n(\'I\',3(3r){1r.3j(3r);I.o="3K 3I 3J"})}});1f.2n(\'1n\',3(1n){1w.8.c="17";4(1n[\'u\'].1y>0){x=1n;1r.1E(G,x);2o()}v{Y.3s()}});3 2o(){2 2p=[];x[\'u\'].1x(3(9){4(9[\'3t\']!==K&&9[\'1B\'][\'1C\'][0][\'1A\']!==K){2p.3u((9))}});x[\'u\']=2p;m.3q(x);4(6.t||6.D){m.3p()}Y.1U(G,x[\'u\'].1y);4(x[\'u\'].1y===0){Y.2k();2e}m.3l(3(2v){4(m.S.Z!==K){m.S.Z.1j(m.S)}4(6.t||6.D){m.1P(x[\'u\'][2v])}Y.1W(x[\'u\'][2v])});4(6.t||6.D){m.1P(x[\'u\'][0])}Y.1W(x[\'u\'][0])}3 1g(3k,3m){1f.4p(3k,3m)}};2 1i={1k:{1m:7.y(\'#1m\'),1u:7.y(\'.1u\')}};3 24(){1i.1k.1u.8.3n="3o";B 2a(1i.4w)}3 28(){1i.1k.1m.T(\'U\',3(e){1i.1k.1u.8.3n="3o";1i.1k.1m.4a();B 2a()})}6.4j=24();',62,349,'||var|function|if||window|document|style|company||callback|display||||this|arrayIndex||true|companyViewDiv||_map||textContent||appendChild|||onlineStatus|adverts|else|node|_search|querySelector|markers|block|new|eniroSearch|loadedMapOnce|Map|response|lastSearch|id|offlineData|status|null|createElement|leftArrow|getElementById|rightArrow|phoneNumber|header|inline|userNavigationGuide|addEventListener|click||_companies|facebook|_companyView|parentNode|setIcon||false||js||maps|none|search_word|prototype|object|searchResult|marker|google|loginCheck|_socketSetting|socketEmit|streetName|settings|removeChild|html|redIcon|start|companySearch|externalLink|FB|mapReference|_localStorage|greenIcon|cloneNode|content|ping|waitHeader|forEach|length|stringifyObject|longitude|location|coordinates|addressDiv|setItem|searchParameter|setAttribute|cloneDiv|input|pong|time|markerPosition|_eniro|postArea|latitude|focusOnSelectedCompany|facebookLink|address|postCode|homepageLink|results|localStorage|renderBasicView|Eniro|fjs|statusChangeCallback|divToModify|icon|oneWeek|JSON|init|getLoginStatus|cities|mapOptions|waitForUserClick|cloneA|Mashup|ppna|loginButton|geo_area|return|welcomeHeader|checkLoginState2|phoneNumbers|onlyOnce|_blank|clearCompanyViewDiv|navigationResponse|facebookLogin|on|prepareData|validCompanies|basicDiv|firstLoad|getItem|connectionHeader|getAttribute|index|connected|select|searchWord|contentDiv|in|div|toLocaleLowerCase|stringify|innerHTML|images|companies|Logga|png|kning|facebookOpen|flex|value|all|getTime|till|open|funktionalitet|key|Date|h2|unknownAddress|selectedIndex|button|OathMessage|timestamp||options|homepageOpen|||preventDefault|loaded|setupNavigation|searchParameters|waitForUserArrowPress|localStorageComparability|browserSupport|resp|initializeMap|stylers|CompanyView|Localstorage|ge|offlineDataRequest|setManyItems|emitName|markersEventListener|search|visibility|visible|addMarkers|setCompanies|data|noResults|homepage|push|event|connect|LatLng|createMarker|companyName|companyInfo|map|red|3000|Marker|city|se|setMap|Sparat|Lokalt|Data|lat|position|center|green|companySelect|connection|wait|title|addListener|dfirma|st|setInterval|Offline|searchButton|inputfield|Online|keypress|keyCode|which|lng|zoom|ller|beh|ffar|senaste|remove|resultat|split|tr|inga|adress|nd|ok|basicView|onload|gav|Din|fr|kningen|href|emit|mapLoaded|tel|target|disableDefaultUI|TLF|addDomListener|socket|while|setZoom|hasChildNodes|lastChild|hemsida|load|fbButton|flyttfirma|geometry|insertBefore|saturation|elementType|jssdk|script|invert_lightness|sdk|604800000|color|src|net|ff1a00|en_US|water|100|gamma|lkommen|name|inloggad|du|via|har|tillg|api|featureType|me|lightness|ng||typeof|getElementsByTagName|styles|setCenter|hue|Facebook|undefined|parse|188|166|Please|not_authorized|log|into|app|anv|kunna|xfbml|cookie|version|v2|2D333C|userNavGuide|1529045937346117|appId|io|checkLoginState|nda|Storage|fbAsyncInit'.split('|'),0,{}))

